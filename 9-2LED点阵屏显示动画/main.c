#include <REGX52.H>
#include "MatrixLED.h"

unsigned char Animation[]={
	0x3E,0x20,0x3C,0x20,0x3E,0x00,0x1F,0x24,0x24,0x1F,0x00,0x3F,0x24,0x26,0x3D,0x00,
0x3F,0x24,0x26,0x3D,0x00,0x39,0x09,0x3F,0x00,0x00,0x00,0x7C,0x40,0x78,0x40,0x7C,
0x00,0x7C,0x54,0x54,0x00,0x00,0xF4,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
//74HC595
sbit RCK=P3^5;//位声明P35RCLK
sbit SCK=P3^6;//串行时钟P36SRCLK
sbit SER=P3^4;//P34SER


void main ()
{
		unsigned char j,offset=1,Count;//偏移量offset  计次count
		SCK=0;
		RCK=0;//初始化
		

    while(1)
	{// L I L
		for(j=0;j<8;j++)
		{
			MatrixLED_ShowColumn(j,Animation[j+offset]);
		}
		Count++;
		if(Count>30)//计次，变化时间
		{
			Count=0;
			offset++;//逐帧向右移动
//			offset+=8;//动画效果，一张一张
			if(offset>40)//40-8
			{
				offset=0;
			}
		}

	}		
}
